{"ast":null,"code":"var _jsxFileName = \"/Users/yevgeniy.utkin/Documents/GitHub/chat-rag/frontend/src/components/ChatUI.tsx\",\n  _s = $RefreshSig$();\n/**\n * Thesis Context: Chat UI orchestrates controlled interactions, capturing paired prompts under RAG-on and\n * RAG-off conditions so evaluators can measure retrieval impact while observing surfaced evidence.\n */\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport ReactMarkdown from 'react-markdown';\nimport remarkGfm from 'remark-gfm';\nimport { sendMessage } from '../api/chat';\nimport RagToggle from './RagToggle';\nimport RetrievedContext from './RetrievedContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ChatUI = () => {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState('');\n  const [useRag, setUseRag] = useState(true);\n  const [topK, setTopK] = useState(3);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [retrievedChunks, setRetrievedChunks] = useState([]);\n  const [avgSimilarity, setAvgSimilarity] = useState(null);\n  const chatContainerRef = useRef(null);\n  useEffect(() => {\n    if (chatContainerRef.current) {\n      chatContainerRef.current.scrollTop = chatContainerRef.current.scrollHeight;\n    }\n  }, [messages, isLoading]);\n  useEffect(() => {\n    // Academic Note: Reset evidence when toggling baseline mode to avoid cross-condition leakage.\n    if (!useRag) {\n      setRetrievedChunks([]);\n      setAvgSimilarity(null);\n    }\n  }, [useRag]);\n  const handleSubmit = useCallback(async event => {\n    event.preventDefault();\n    if (!input.trim() || isLoading) {\n      return;\n    }\n    const timestamp = new Date().toLocaleTimeString();\n    const userMessage = {\n      id: `${Date.now()}-user`,\n      role: 'user',\n      content: input.trim(),\n      timestamp\n    };\n    setMessages(prev => [...prev, userMessage]);\n    setInput('');\n    setIsLoading(true);\n    setError(null);\n    try {\n      var _response$avg_similar;\n      const payload = {\n        message: userMessage.content,\n        use_rag: useRag,\n        top_k: topK\n      };\n      const response = await sendMessage(payload);\n      const assistantMessage = {\n        id: `${Date.now()}-assistant`,\n        role: 'assistant',\n        content: response.message,\n        timestamp: new Date().toLocaleTimeString()\n      };\n      setMessages(prev => [...prev, assistantMessage]);\n      setRetrievedChunks(response.mode === 'rag' ? response.retrieved_context : []);\n      setAvgSimilarity((_response$avg_similar = response.avg_similarity) !== null && _response$avg_similar !== void 0 ? _response$avg_similar : null);\n    } catch (apiError) {\n      setError('Request failed. Verify backend availability for controlled trials.');\n    } finally {\n      setIsLoading(false);\n    }\n  }, [input, isLoading, topK, useRag]);\n  const topKOptions = useMemo(() => [3, 4, 5], []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"grid h-full grid-cols-1 gap-6 lg:grid-cols-[2fr,1fr]\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex h-full flex-col rounded-lg border border-gray-200 bg-white shadow-sm\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between border-b border-gray-200 px-4 py-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(RagToggle, {\n            value: useRag,\n            onChange: setUseRag\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"flex items-center gap-2 text-sm text-gray-600\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Top-k\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: topK,\n              onChange: event => setTopK(Number(event.target.value)),\n              className: \"rounded border border-gray-300 px-2 py-1 text-sm\",\n              children: topKOptions.map(option => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: option,\n                children: option\n              }, option, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs text-gray-500\",\n          children: \"Messages timestamped via local time for audit logs.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: chatContainerRef,\n        className: \"flex-1 space-y-4 overflow-y-auto px-4 py-4\",\n        children: [messages.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-500\",\n          children: \"Begin the comparative session by describing an information need; toggle RAG to contrast answers.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 13\n        }, this), messages.map(message => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `flex ${message.role === 'user' ? 'justify-end' : 'justify-start'}`,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `max-w-xl rounded-lg px-4 py-3 text-sm shadow ${message.role === 'user' ? 'bg-blue-600 text-white' : 'bg-slate-100 text-gray-800'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-1 text-xs opacity-70\",\n              children: message.timestamp\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 17\n            }, this), message.role === 'assistant' ? /*#__PURE__*/_jsxDEV(ReactMarkdown, {\n              remarkPlugins: [remarkGfm],\n              className: \"prose prose-sm max-w-none\",\n              children: message.content\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              children: message.content\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 15\n          }, this)\n        }, message.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 13\n        }, this)), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-start\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"max-w-xs rounded-lg bg-slate-100 px-4 py-2 text-sm text-gray-600 shadow\",\n            children: \"Thinking\\u2026\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"border-t border-gray-200 px-4 py-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: input,\n          onChange: event => setInput(event.target.value),\n          rows: 3,\n          placeholder: \"Enter your prompt\",\n          className: \"w-full resize-none rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-3 flex items-center justify-between\",\n          children: [error ? /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-red-500\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 22\n          }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-xs text-gray-400\",\n            children: \"Identical prompts recommended per condition.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 72\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            disabled: isLoading || !input.trim(),\n            className: \"rounded-md bg-blue-600 px-4 py-2 text-sm font-semibold text-white shadow disabled:cursor-not-allowed disabled:bg-blue-300\",\n            children: \"Send\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this), useRag && /*#__PURE__*/_jsxDEV(RetrievedContext, {\n      chunks: retrievedChunks,\n      avgSimilarity: avgSimilarity !== null && avgSimilarity !== void 0 ? avgSimilarity : undefined\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 5\n  }, this);\n};\n_s(ChatUI, \"JkTux/ttxFSnge9OBa8myfNbjkk=\");\n_c = ChatUI;\nexport default ChatUI;\nvar _c;\n$RefreshReg$(_c, \"ChatUI\");","map":{"version":3,"names":["React","useCallback","useEffect","useMemo","useRef","useState","ReactMarkdown","remarkGfm","sendMessage","RagToggle","RetrievedContext","jsxDEV","_jsxDEV","ChatUI","_s","messages","setMessages","input","setInput","useRag","setUseRag","topK","setTopK","isLoading","setIsLoading","error","setError","retrievedChunks","setRetrievedChunks","avgSimilarity","setAvgSimilarity","chatContainerRef","current","scrollTop","scrollHeight","handleSubmit","event","preventDefault","trim","timestamp","Date","toLocaleTimeString","userMessage","id","now","role","content","prev","_response$avg_similar","payload","message","use_rag","top_k","response","assistantMessage","mode","retrieved_context","avg_similarity","apiError","topKOptions","className","children","value","onChange","fileName","_jsxFileName","lineNumber","columnNumber","Number","target","map","option","ref","length","remarkPlugins","onSubmit","rows","placeholder","type","disabled","chunks","undefined","_c","$RefreshReg$"],"sources":["/Users/yevgeniy.utkin/Documents/GitHub/chat-rag/frontend/src/components/ChatUI.tsx"],"sourcesContent":["/**\n * Thesis Context: Chat UI orchestrates controlled interactions, capturing paired prompts under RAG-on and\n * RAG-off conditions so evaluators can measure retrieval impact while observing surfaced evidence.\n */\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport ReactMarkdown from 'react-markdown';\nimport remarkGfm from 'remark-gfm';\nimport { sendMessage } from '../api/chat';\nimport RagToggle from './RagToggle';\nimport RetrievedContext from './RetrievedContext';\nimport { ChatResponse, RetrievedChunk } from '../types/api';\n\ntype Role = 'user' | 'assistant';\n\ninterface ChatMessage {\n  id: string;\n  role: Role;\n  content: string;\n  timestamp: string;\n}\n\nconst ChatUI: React.FC = () => {\n  const [messages, setMessages] = useState<ChatMessage[]>([]);\n  const [input, setInput] = useState<string>('');\n  const [useRag, setUseRag] = useState<boolean>(true);\n  const [topK, setTopK] = useState<number>(3);\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  const [error, setError] = useState<string | null>(null);\n  const [retrievedChunks, setRetrievedChunks] = useState<RetrievedChunk[]>([]);\n  const [avgSimilarity, setAvgSimilarity] = useState<number | null | undefined>(null);\n  const chatContainerRef = useRef<HTMLDivElement | null>(null);\n\n  useEffect(() => {\n    if (chatContainerRef.current) {\n      chatContainerRef.current.scrollTop = chatContainerRef.current.scrollHeight;\n    }\n  }, [messages, isLoading]);\n\n  useEffect(() => {\n    // Academic Note: Reset evidence when toggling baseline mode to avoid cross-condition leakage.\n    if (!useRag) {\n      setRetrievedChunks([]);\n      setAvgSimilarity(null);\n    }\n  }, [useRag]);\n\n  const handleSubmit = useCallback(\n    async (event: React.FormEvent) => {\n      event.preventDefault();\n      if (!input.trim() || isLoading) {\n        return;\n      }\n      const timestamp = new Date().toLocaleTimeString();\n      const userMessage: ChatMessage = {\n        id: `${Date.now()}-user`,\n        role: 'user',\n        content: input.trim(),\n        timestamp\n      };\n      setMessages((prev) => [...prev, userMessage]);\n      setInput('');\n      setIsLoading(true);\n      setError(null);\n\n      try {\n        const payload = { message: userMessage.content, use_rag: useRag, top_k: topK };\n        const response: ChatResponse = await sendMessage(payload);\n        const assistantMessage: ChatMessage = {\n          id: `${Date.now()}-assistant`,\n          role: 'assistant',\n          content: response.message,\n          timestamp: new Date().toLocaleTimeString()\n        };\n        setMessages((prev) => [...prev, assistantMessage]);\n        setRetrievedChunks(response.mode === 'rag' ? response.retrieved_context : []);\n        setAvgSimilarity(response.avg_similarity ?? null);\n      } catch (apiError) {\n        setError('Request failed. Verify backend availability for controlled trials.');\n      } finally {\n        setIsLoading(false);\n      }\n    },\n    [input, isLoading, topK, useRag]\n  );\n\n  const topKOptions = useMemo(() => [3, 4, 5], []);\n\n  return (\n    <div className=\"grid h-full grid-cols-1 gap-6 lg:grid-cols-[2fr,1fr]\">\n      <div className=\"flex h-full flex-col rounded-lg border border-gray-200 bg-white shadow-sm\">\n        <div className=\"flex items-center justify-between border-b border-gray-200 px-4 py-3\">\n          <div className=\"flex items-center gap-3\">\n            <RagToggle value={useRag} onChange={setUseRag} />\n            <label className=\"flex items-center gap-2 text-sm text-gray-600\">\n              <span>Top-k</span>\n              <select\n                value={topK}\n                onChange={(event) => setTopK(Number(event.target.value))}\n                className=\"rounded border border-gray-300 px-2 py-1 text-sm\"\n              >\n                {topKOptions.map((option) => (\n                  <option key={option} value={option}>\n                    {option}\n                  </option>\n                ))}\n              </select>\n            </label>\n          </div>\n          <p className=\"text-xs text-gray-500\">Messages timestamped via local time for audit logs.</p>\n        </div>\n        <div ref={chatContainerRef} className=\"flex-1 space-y-4 overflow-y-auto px-4 py-4\">\n          {messages.length === 0 && (\n            <p className=\"text-sm text-gray-500\">\n              Begin the comparative session by describing an information need; toggle RAG to contrast answers.\n            </p>\n          )}\n          {messages.map((message) => (\n            <div key={message.id} className={`flex ${message.role === 'user' ? 'justify-end' : 'justify-start'}`}>\n              <div\n                className={`max-w-xl rounded-lg px-4 py-3 text-sm shadow ${\n                  message.role === 'user'\n                    ? 'bg-blue-600 text-white'\n                    : 'bg-slate-100 text-gray-800'\n                }`}\n              >\n                <div className=\"mb-1 text-xs opacity-70\">{message.timestamp}</div>\n                {message.role === 'assistant' ? (\n                  <ReactMarkdown remarkPlugins={[remarkGfm]} className=\"prose prose-sm max-w-none\">\n                    {message.content}\n                  </ReactMarkdown>\n                ) : (\n                  <p>{message.content}</p>\n                )}\n              </div>\n            </div>\n          ))}\n          {isLoading && (\n            <div className=\"flex justify-start\">\n              <div className=\"max-w-xs rounded-lg bg-slate-100 px-4 py-2 text-sm text-gray-600 shadow\">\n                Thinkingâ€¦\n              </div>\n            </div>\n          )}\n        </div>\n        <form onSubmit={handleSubmit} className=\"border-t border-gray-200 px-4 py-3\">\n          <textarea\n            value={input}\n            onChange={(event) => setInput(event.target.value)}\n            rows={3}\n            placeholder=\"Enter your prompt\"\n            className=\"w-full resize-none rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none\"\n          />\n          <div className=\"mt-3 flex items-center justify-between\">\n            {error ? <p className=\"text-xs text-red-500\">{error}</p> : <span className=\"text-xs text-gray-400\">Identical prompts recommended per condition.</span>}\n            <button\n              type=\"submit\"\n              disabled={isLoading || !input.trim()}\n              className=\"rounded-md bg-blue-600 px-4 py-2 text-sm font-semibold text-white shadow disabled:cursor-not-allowed disabled:bg-blue-300\"\n            >\n              Send\n            </button>\n          </div>\n        </form>\n      </div>\n      {useRag && (\n        <RetrievedContext chunks={retrievedChunks} avgSimilarity={avgSimilarity ?? undefined} />\n      )}\n    </div>\n  );\n};\n\nexport default ChatUI;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}